@using SpringRidgeFlowers.Models

<MudCard Elevation="2" Class="plant-card">
    <MudCardMedia Image="@(Plant.PrimaryImageUrl ?? "/images/plants/placeholder.jpg")"
                  Height="200"
                  Title="@Plant.CommonName" />
    <MudCardContent>
        <MudText Typo="Typo.h6" Class="text-truncate">@Plant.CommonName</MudText>
        @if (!string.IsNullOrEmpty(Plant.LatinName))
        {
            <MudText Typo="Typo.caption" Color="Color.Secondary" Class="font-italic text-truncate">
                @Plant.LatinName
            </MudText>
        }

        <MudStack Row="true" Class="mt-2" Wrap="Wrap.Wrap" Spacing="1">
            @if (Plant.IsFloridaNative)
            {
                <MudChip T="string" Color="Color.Primary" Size="Size.Small" Variant="Variant.Text">
                    Native
                </MudChip>
            }
            @if (!string.IsNullOrEmpty(Plant.SunExposure))
            {
                <MudChip T="string" Size="Size.Small" Variant="Variant.Text">
                    @Plant.SunExposure
                </MudChip>
            }
        </MudStack>

        <PriceDisplay Price="Plant.Price" Class="mt-2" />
    </MudCardContent>
    <MudCardActions>
        <MudButton Variant="Variant.Text" Color="Color.Primary"
                   Href="@($"/plant/{Plant.Id}")">
            View Details
        </MudButton>
        @if (!Plant.InStock)
        {
            <MudChip T="string" Color="Color.Error" Size="Size.Small" Class="ml-auto">
                Out of Stock
            </MudChip>
        }
    </MudCardActions>
</MudCard>

@code {
    [Parameter, EditorRequired]
    public PlantDto Plant { get; set; } = null!;
}
